<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Our Memories ‚ù§Ô∏è</title>

<style>
    body{
        margin:0;
        padding:0;
        font-family:"Poppins",sans-serif;
        background:#ffeef5;
        text-align:center;
    }

    h1{
        margin-top:40px;
        font-size:2.5rem;
        color:#ff4f77;
    }
    p{
        margin-top:-10px;
        color:#444;
        font-size:1.1rem;
    }

    .gallery{
        display:grid;
        grid-template-columns:repeat(auto-fit, minmax(190px, 1fr));
        gap:35px;
        padding:40px;
        justify-items:center;
    }

    .card{
        width:190px;
        height:270px;
        perspective:1000px;
        position:relative;
    }

    @media(max-width:500px){
        .card{
            width:160px;
            height:230px;
        }
    }

    @media(max-width:380px){
        .card{
            width:80%;
            height:auto;
            aspect-ratio:190/270;
        }
    }

    .card-inner{
        width:100%;
        height:100%;
        position:relative;
        transform-style:preserve-3d;
        transition:transform 0.8s;
    }

    .card:hover:not(.locked) .card-inner{
        transform:rotateY(180deg);
    }

    .card.flipped .card-inner{
        transform:rotateY(180deg) !important;
    }

    .card-front{
        background:#ff4f77;
        color:white;
        border-radius:15px;
        display:flex;
        justify-content:center;
        align-items:center;
        text-align:center;
        padding:20px;
        font-size:1rem;
        font-weight:600;
        position:absolute;
        width:100%;
        height:100%;
        backface-visibility:hidden;
    }

    .card-back{
        position:absolute;
        width:100%;
        height:100%;
        border-radius:15px;
        backface-visibility:hidden;
        transform:rotateY(180deg);
        overflow:hidden;
    }

    .card-back img{
        width:100%;
        height:100%;
        object-fit:cover;
        border-radius:15px;
        display:block;
    }

    .locked-overlay{
        position:absolute;
        left:0;top:0;
        width:100%;height:100%;
        background:rgba(0,0,0,0.55);
        color:white;
        font-size:1rem;
        font-weight:700;
        display:flex;
        align-items:center;
        justify-content:center;
        border-radius:15px;
        cursor:pointer;
        z-index:30;
        padding:10px;
        text-align:center;
    }

    .nav-container{
        margin:35px 0 50px;
        text-align:center;
    }

    .btn{
        padding:12px 28px;
        background:#ff4f77;
        color:white;
        font-weight:600;
        border-radius:30px;
        text-decoration:none;
        font-size:1.1rem;
        margin:0 12px;
        transition:0.3s;
        display:inline-block;
    }

    /* Play Music Button */
    .play-music-btn {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #ff4f77;
        color: #fff;
        border: none;
        padding: 10px 18px;
        border-radius: 25px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: 0.3s;
        z-index: 1000;
    }
    .play-music-btn:hover {
        background: #e73c5f;
    }
</style>
</head>

<body>

<!-- Play Music Button -->
<button class="play-music-btn" id="playMusicBtn">Play Music üéµ</button>

<h1>Flip to See Our Memories üíó</h1>
<p>Click a card to reveal the picture behind the message.</p>

<div class="gallery">

    <div class="card">
        <div class="card-inner">
            <div class="card-front">Morning brekkie date. Pancakes and boba tea. üòò</div>
            <div class="card-back"><img src="img1.jpg" alt=""></div>
        </div>
    </div>

    <div class="card">
        <div class="card-inner">
            <div class="card-front">5/11/2023. Zomaland date! ‚ù§Ô∏è</div>
            <div class="card-back"><img src="img2.jpg" alt=""></div>
        </div>
    </div>

    <div class="card locked" id="card3">
        <div class="card-inner">
            <div class="card-front">üòò</div>
            <div class="card-back"><img src="img3.JPG" alt=""></div>
        </div>
        <div class="locked-overlay" id="lock3">üîíüòâ Tap to unlock</div>
    </div>

    <div class="card">
        <div class="card-inner">
            <div class="card-front">Asian Championships 2023üòç</div>
            <div class="card-back"><img src="img4.jpg" alt=""></div>
        </div>
    </div>

    <div class="card">
        <div class="card-inner">
            <div class="card-front">29/11/2022. Our one year anniversary‚ù§Ô∏è</div>
            <div class="card-back"><img src="img5.jpg" alt=""></div>
        </div>
    </div>

    <div class="card">
        <div class="card-inner">
            <div class="card-front">World Games, Starbucks date with Pandachanüêº</div>
            <div class="card-back"><img src="img6.jpg" alt=""></div>
        </div>
    </div>

    <div class="card">
        <div class="card-inner">
            <div class="card-front">6/6/2023. My First birthday we celebrated togetherü•∞</div>
            <div class="card-back"><img src="img7.JPG" alt=""></div>
        </div>
    </div>

    <div class="card">
        <div class="card-inner">
            <div class="card-front">29/11/2023. Our two year anniversaryü•∞</div>
            <div class="card-back"><img src="img8.JPG" alt=""></div>
        </div>
    </div>

    <div class="card">
        <div class="card-inner">
            <div class="card-front">Random college pic which became your screen wallpaper ‚ù§Ô∏è</div>
            <div class="card-back"><img src="img9.JPG" alt=""></div>
        </div>
    </div>

    <div class="card">
        <div class="card-inner">
            <div class="card-front">14/02/2024. Valentines dayüòò</div>
            <div class="card-back"><img src="img10.JPG" alt=""></div>
        </div>
    </div>

</div>

<div class="nav-container">
    <a href="about.html" class="btn">‚Üê Previous</a>
    <a href="letter.html" class="btn">Next ‚Üí</a>
</div>

<script>
/* LOCKED CARD FUNCTIONALITY */
const lock3 = document.getElementById('lock3');
const card3 = document.getElementById('card3');

lock3.addEventListener('click', () => {
    const pwd = prompt('Enter 4 digit password to unlock this memory: (hint- Our birthdays (DDDD))');

    if (pwd === '2906') {
        card3.classList.add('flipped');
        lock3.style.display = 'none';

        setTimeout(() => {
            card3.classList.remove('flipped');
            lock3.style.display = 'flex';
        }, 3000);
    } else if (pwd !== null) {
        alert('Incorrect password ‚ùå');
    }
});

/* MOBILE TAP-TO-FLIP */
document.querySelectorAll(".card:not(.locked)").forEach(card => {
    card.addEventListener("click", () => {
        card.classList.toggle("flipped");
    });
});

/* üîä MUSIC SEGMENT: PLAY ONLY 25s ‚Üí 90s */
const START_TIME = 25;
const END_TIME = 90;
const audio = new Audio('Ordinary.mp3');
audio.volume = 0.35;

// Function to play the segment
function playSegment() {
    audio.currentTime = START_TIME;
    audio.play().catch(() => console.log('User interaction required for autoplay'));

    // Loop between START_TIME and END_TIME
    const interval = setInterval(() => {
        if(audio.currentTime >= END_TIME){
            audio.currentTime = START_TIME;
            audio.play();
        }
    }, 500);
}

// Play Music button
const playBtn = document.getElementById('playMusicBtn');
playBtn.addEventListener('click', () => {
    playSegment();
    playBtn.style.display = 'none'; // hide button after click
});

// Optional: allow body click as backup
document.body.addEventListener('click', function bodyClickHandler() {
    playSegment();
    document.body.removeEventListener('click', bodyClickHandler);
});
</script>

</body>
</html>
